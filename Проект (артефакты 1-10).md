# АР "Быстрее, Выше, Сильнее"
Таблица 1 История изменений

|Версия|Дата|Комментарий|Автор|
|------|----|-----------|-----|
| 1.0 | 06.04.2024 |         |Галицкая И.А. |
| 2.0 | 10.04.2024 |          | Галицкая И. А.|
| 2.1 | 13.04.2024 |          | Галицкая И. А.|

## 1. Общие сведения о проекте

### 1.1  Глоссарий

Таблица 2 Термины и определения
   
| Термин | Определение |
| ---------------- | ------------------------- |
|Бизнес-процесс| Последовательность взаимосвязанных действий (шагов) в автоматизированной системе или вне системы, подчиненных определенной задаче предприятия. Бизнес-процесс определяется входами (входная информация, событие и т.п.) и выходами, а также, содержанием выполняемых шагов. Он может выполняться в пределах одной организационной единицы и/или системы, а также охватывать несколько организационных единиц и/или систем |
| Проект | Временное предприятие, направленное на создание уникального продукта, услуги или результата |
| Бизнес‑архитектура | Целостная и интегрированная модель компании, которая связывает стратегические, структурные, технологические и информационные аспекты |
| Функциональные требования | Описание требуемого поведения системы в определенных условиях |
| Нефункциональные требования | Требования, определяющие свойства, которые система должна демонстрировать, или ограничения, которые она должна соблюдать, не относящиеся к поведению системы |

### 1.2 Описание проекта
   
Архитектурное решение описывает цели и задачи на разработку приложения, предназназначаеного для использования на мобильных и стационарных устройствах.
Результат проекта должен обеспечить достижение следующих целей:
- Продвижение продукции заказчика по новым каналам;
- Информирование покупателей о выходе новых товаров;
- Стимумуляция спроса на новые товары.
Заказчиком работ выступает АО "Спорттовары"
Основными потребителями результата будут менеджмент комании и клиенты, использующие приложения для вовлечения в здоровый образ жизни и повышения качества своей жизни.
Проект реализуется в следующих ограничениях:    
- Наличие большого количества конкурентов на рынке приложений актиного образа жизни
- Большое количество облачных решений, используемых для уже созданных приложений, что увеличит время на разработку интеграций между приложениями.

## 2. Бизнес- архитектура

Основными бизнес-целями разрабатываемого приложения являются:
- Управление продажами;
- Создание узнаваемого бренда для покупателей;
- Вовлечение пользователей в здоровый образ жизни и возможность соревновательного поведения по интересующим направлениям спорта;
- Разработка современного приложения для социального позиционирования компании .
  
Для увеличения доли присутствия на рынке и повышению продаж спортивных товаров предлагается к разработке приложение, содержащее возможность увеличения продаж товаров через социальные компоненты, для вовлеченности пользователей разрабатываемого приложения в активности по формированию самоподдерживающихся групп по интересам и влияния друг на друга.

Пользователи должны получать информацию о новых спортивных товарах в зависимости от направления интересов группы. Таким образом предлагается повысить лояльность пользователей к торговой марке и стимулировать покупательскую способность именно товаров заказчика.

Исходя из требований заказчика предлагается разработка приложения для пользователей, включающее в себя процесс авторизации, логирования, личного кабинета, наличия выбора групп и добавления себя в группы по интересам и возможностью создания собственных групп с окружающими пользователями со схожими интересами(поиск пользователей по геолокации). 

При разработке приложения учитывать возможность хранения данных измерений тела (Вес, пульс, толщина жировых отложений на теле) с течением времени. 

Также предусмотреть хранение результатов спортивных достижений для возможности сравнения с результатами других пользователей и своими собственными.

Также необходимо учесть при разработке возможность подключения внешних периферийных устройств для возможности контроля показателей датчиков (Пульс, давление, частота сердечных ударов). 
Учесть возможность создания в приложении соревнований с определенной направленностью.
     
### 2.1. Анализ и список функциональных требований

Таблица 3 Функциональные требования

| Домен | Требование | Описание требования |
| -------- | --------------------------------- | ------------------|
| Тренировки | Обеспечить создание групп с возможностью выбора направления тренировки | Пользователь формирует группу с указанием направления тренировки и добавляет пользователей, принявших ранее отправленное приглашение |
| Тренировки | Обеспечить возможность использования подсказок и навигации при формировании группы | При формировании группы должны появляться всплывающие подсказки для быстрого создания группы |
| Тренировки | Обеспечить сохраненияе данных по сформированным группам | Данные по сформированным группам должны автоматически сохраняться после создания группы и при изменении данных |
| Тренировки |Обеспечить возможность формирования групповых тренировок в приложении с учетом характеристик тренировки | Данные по характеристикам тренировок распространяются на группу|
| Тренировки | Обеспечить использование в приложении геолокации для подбора пользователей в группу тренировок по расположению| Поиск пользователей по территориальному расположению |
| Тренировки | Обеспечить использование приложения в офф- лайне и сохранение результатов тренировки | Работа с преднастроенной тренировкой в офф- лайне с сохранением результатов и дальнейшей выгрузкой в историю  |
| Метрики | Обеспечить хранение истории по завершенным тренировкам с основными показателями | После завершения тренировки необходимо хранить историю спортивных показателей пользователей и измерения их жизненных показателей |
| Метрики | Обеспечить использования перечисления показателей и измерений пользователей в процессе тренировок | Для создания набора показателей и измерений необходим выбор из списка |
| Метрики | Обеспечить возможность обнаружения и подключения периферийных устройств к приложению | Для отслеживания жизненных показателей необходимо дать доступ к периферийным устройствам и записывать в хранилище на устройстве |
| Пользователи | Обеспечить возможность подбора номенклатуры для пользователя с указанием характеристик товара | Выбор номенклатуры из списка товаров, предлагаемых к продаже |
| Пользователи | Обеспечить возможность использования пользователем специальных купонов при оплате товара | Перед оплатой товара пользователем вводится номер купона на скидку, которая учитывается при расчете стоиомсти заказа |
| Пользователи | Обеспечить возможность хранения истории оплаченных заказов и механизм накопления и учета при следующих оплатах (Бонусная система) | После оплаты заказа пользователем формируется запись, которая должна учитываться в алгоритме рассчета общей бонусной скидки  |
| Пользователи |Обеспечить возможность отображения новостной ленты в приложении при его открытии | Пользователь должен иметь возможность видеть новости своей группы |
|Социальная сеть | Обеспечить возможность создания социальных групп по интересам | Пользователь формирует группу с указанием направления группы и добавляет пользователей, принявших ранее отправленное приглашение |
|Социальная сеть | Обеспечить возможность создания друзей для пользователя и хранения истории добавлнения друзей | Пользователь приглашает других пользователей в "Друзья" через отправку сообщения другому пользователю и получает  подтверждение при принятии статуса "Друзья" | 
|Социальная сеть | Обеспечить возможность осуществления коммуникаций между членами группы с помощью создания постов | Механизм создания и отправки сообщений другим пользователям |
|Социальная сеть | Обеспечить возможность использования в постах методов оценки сообщений в виде эмодзи и т.д | Использовать механизм комментарования сообщений с помощью эмодзи т.д. |
|Маркетинг | Обеспечить возможность формирования персональных предложений пользователям по товарам | На основании анализа активности пользователя и история заказов пользователя формировать персональное предложение и отправлять пользователю в личный кабинет информацию о предложении |
|Маркетинг | Обеспечить возможность формирования контентной рекламы собственной и рекламы партнеров | Формирование рекламных блоков по новым товарам собственным и предложениям партнеров заказчика |
| Приложение | Обеспечить интеграции с приложениями заказчика | Разработать интеграции с приложениями заказчика, ранее разработанными для пользователей |

### 2.2. Целевой бизнес- процесс. Анализ стейкхолдеров и их интересов

#### 2.2.1. Описание целевого бизнес- процесса 
         
##### 2.2.1.1. Цели и задачи процесса
Целью бизнес- процесса является увеличение продаж собственных товаров с помощью вовлечения покупателей в процессы взаимодействия друг с другом и использования в соревновательных направлениях товаров компании. Основной стейкхолдер-Топ менеджмент компании- заказчика и владельцы компании.

Задачами бизнес- процесса являются:

- Создание возможностей для коммуникации пользователей друг с другом на единой платформе с учетом их интересов;
- Продвижение товаров компании с учетом направленности интересов пользователей;
- Создание положительного имиджа компании за счет организации спортивных мероприятий и продвижения здорового образа жизни.
Ожидания различных групп стейкхолдеров от разрабатываемого приложения:
1. Владельцы компании — выгоду от инвестиций
2. Пользователи: 
- Увидеть свои достижения, индивидуальные и групповые, похвастаться;
- Индивидуальные тренировки: достигнуть цели, соревноваться с собой;
- Групповые тренировки: выиграть соревнование;
- Туризм: пройти маршрут, достигнуть целевой точки
- Профи/рекордсмен: записать рекорд;
- Блогер: рассказать о соревнованиях широкой аудитории.
3. Продажи — рост продаж в e‑commerce сегменте;
4. Маркетинг — средство повышения лояльности к бренду, развитая аналитика;
5. Бизнес‑партнеры — рост продаж в связке с основным брендом;
6. Внешние разработчики — монетизация.
  
##### 2.2.1.2 Входы и выходы процесса 

Входами процесса является решение стейкхолдеров- Владельцев компании об освоении новых информационных каналов для информирования покупателей о новых товарах и стимулирования спроса на новые вещи. 
Событиями, предоставляющие данные для корректного выполнения процесса являются:
- Наличие самоподдерживающихся сформированных групп в приложении по направленности интересов;
- Активность групп в приложении;
- Участие в соревнованиях с использованием продукции заказчика:
- Использование продукции заказчика (спортивного инвентаря);
Выходными данными являются события:
- Отклик от пользователей о продукции заказчика;
- Формирование положительного имиджа заказчика в социальных сетях;
- Отзывы пользователей об используемом приложении;
- Увеличение узнаваемости бренда;
- Увеличение продаж продукции заказчика по переходам из приложения в интернет- магазин для покупок;
- Увеличение продаж снарядов для соревнований;

# 3. Описание архитектурного решения
   
## 3.1. Концептуальная архитектура

   Концептуальная архитектура 
![image](https://github.com/Zvezdapoimenisolnstce/Diplom/assets/166215338/74a8f329-64b4-46ae-9cf0-da7045adb854)
                          Рисунок 1 Концептуальная архитектура
## 3.2. Описание рисков реализации 

 К бизнес- рискам реализации данного решения относятся следующие:
- Из-за слабой информированности пользователей о возможностях приложения на запуске приложения  может быть малое количество регистраций в приложении;
- Спрос на товар заказчика может резко вырасти и заказчик не сможет вовремя поставить товар для покупателей;
- При недостаточно просчитанном бюджете на разработку приложения выпуск в продуктив может быть задержан и заказчик потеряет выгоду;
- Невозможность публикации приложения в некоторых магазинах приложений;
К техническим рискам реализации данного решения относятся следующие:
- Большое количество интеграционных потоков с разными приложениями из- за публикации приложений на различных облачных провайдеров;
- Недостаточное обеспечение хранения персональных данных может привести к юридическим требованиям со стороны пользователей;
- Неправильно снятые требования могут привести к недостаточной функциональноости приложения;
- Невозможность определения геолокации пользователей при отсутствии интернета в труднодоступных местах не позволит сформировать группы для тренировок.

## 3.3. План поэтапной разработки и расширения системы, анализ критически важных компонентов

Основные этапы разработки и расширения системы:
1. Планирование и анализ требований. Инициация проекта
Необходимо:
- Анализ требований и разработка  базового проекта с учетом доступной информации на первоначальном этапе проектирования; 
- Формирование бюджета проекта разработки.
2. Определение требований
Необходимо:
- Уточнение всех требований к целевому приложению.
Функциональные, нефункциональные требования.
3. Проектирование архитектуры
Необходимо:
- Выброр технологии проектирования;
- Создание дизайн-макета приложения;
- Сбор контента приложения.
4. Разработка приложения
Необходимо:
- Разработка приложения;
- Создание интеграционных потоков со смежными системами в соответствии с архитектурой проекта;
5. Тестирование и интеграция приложения
Необходимо:
- Тестирование разработанного приложения для дальнейшей бесперебойной работы;
- Разработка документации разрабатываемого приложения по проекту (как использовать приложение и описание основного функционала);
6. Развертывание и обслуживание приложения
После окончательного тестирования и исправления ошибок приложение выпускается в промышленную эксплуатацию.
Производится развертывание приложения на сервере, настройки подключения API к приложению.
Далее производится надзор за работой приложения и его поддержка.

## 3.4. Критичные Бизнес- сценарии

Критичные бизнес-сценарии можно разделить в соответствии с ролевой моделью:
1. Роль "Активный участник соревнования":
- Отслеживать свои соревнования и получать точную информацию о скорости, времени, длины дистанции, чтобы анализировать свой прогресс и свои достижения;
- Устанавливать себе цели по направлению соревнования, чтобы мотивировать себя на достижение новых результатов;
- Получать мотивационные сообщения и оповещения о промежуточных результатах для возможности улучшения своих спортивных показателей;
- Иметь возможность просматривать историю тренировок и основных показателей;
- Иметь доступ к хранилищу изображений для возможности добавления и публикации изображений в группе;
- Иметь возможность создавать свои группы по выбранным направлениям;
- Получать рекомендации и отзывы от экспертов, чтобы избежать травм и повысить эффективность тренировок;
- Иметь доступ к погодным условиям для планирования тренировок.
Роль "Член команды":
- Регистрироваться на соревнования он-лайн при большом количестве участников;
- Получать полную и достоверную информацию о соревновании, его начале, месте и времени проведения;
- Отслеживать свои и других членов соревнования промежкточные и итоговые результаты соревнований.
Роль "Организатор соревнования":
- Создавать он- лайн регистрацию для проведения соревнования;
- Распространять анонсы предстоящих мероприятий;
- Предоставить информацию о маршруте, характере соревнования, погодных условиях, месте сбора и правилах организации мероприятия;
- Формировать рейтинг результатов по окончании мероприятия и рассылки итоговых результатов зарегистрированных участникам мероприятия.
Роль "Администратор приложения":
- Собирать обратную связь от пользователей;
- Создать механизм сбора запросов и ошибок от пользователей.
  
## 3.5. Атрибуты качества и нефункциональные требования

Требования к качеству разрабатываемого приложения очень сильно влияют на реализуемость всей совокупности требований, на трудоёмкость, длительность и стоимость реализации, а следовательно окупаемость инвестиций в разработку и в целом возможную успешность проекта. 
Приложение должно:
Таблица 4 НФТ и Атрибуты качества

| Атрибут качества | Нефункциональные требования |
|----------------- | ------------------------------|
| Доступность | Доступ к приложению с разных устройств. Подключение к приложению должно осуществляться за 2 сек. |
| Доступность | Недоступность приложения не должна превышать более 3 часов в год |
| Масштабируемость | Возможность масштабирования приложения  до десятков миллионов пользователей |
| Производительность | При подключении большого количества пользователей ситема остается в работоспособном состоянии без потери быстродействия, заключающегося в долгом отклике на команды, производимые пользователем |
| Производительность | Подтверждение заказа пользователя не должно превышать 2 сек. |
| Производительность | Поддерживать возможность и обеспечивать высокую производительность при проведении соревнований с большим количеством участников. Отображение контента на странице должно формироваться за 2 сек. |
| Производительность | Запуск интеграционных потоков должен производиться регламентным заданием  по расписанию каждые 2 минуты |
| Производительность | При запуске регламентного задания (интеграция ) в фоне, система при работе пользователя с объектами приложения не теряет производительности и объекты открываются и записываются в штатном режиме за 2 секунды |
| Производительность |  При запуске регламентного задания система не должна "Зависать" |
| Производительность |  Интеграции не должны влиять на работу пользователей и работа с системой пользователем  должна происходить в обычном режиме |
| Безопасность |  При входе в приложение авторизация пользователя должна производиться с использованием логина и пароля |
| Безопасность |  При несовпадении логина и пароля система  выдает сообщение об ошибке |
| Безопасность | Обеспечивать высокий уровень безопасности и защиты пользовательских данных. Использование шифрования паролей по протоколу SSL. Все пароли хранятся в БД. |
| Отказоустойчивость | Использование резервных серверов. Дублирование узлов системы. Настройка резервного копирования базы и хранения логов |
| Соответствие юридическим законам и правилам | Обеспечить работу приложения в рамках правовой юрисдикции |

## 3.6. Анализ и описание архитектурных опций и обоснование выбора
      
Для выбора архитектурного решения были проанализированы варианты:
- Монолит;
- Микросервисы.

В результате проведенного анализа были выявлены плюсы и минусы решений.

Таблица 4 Сравнительный анализ архитектурных решений

| Решение |
| ----------|
| Монолит |

| Преимущества | Недостатки |
| ------------ | ----------- |
| Быстрота развертывания  | Низкая масштабируемость |
| Быстрая настройка | Дальнейшая поддержка и разработка |
| Обслуживания | Производительностm |
| Тестируемость | Гибкость|
| Дешево | Отказоустойчивость |
  
| Решение |
| ----------|
| Микросервисы |

| Преимущества | Недостатки |
| ------------ | ----------- |
| Масштабируемость  | Дорого |
| Дальнейшая поддержка и разработка | Настройки |
| Производительность| Развертывание|
| Гибкость | Обслуживание|
| Отказоустойчивость | Тестируемость |
  
Для архитектурного решения был выбрано решение- Монолит , как MVP  и деление на Микросервисы.
- Масштабируемость является одним из главных критерием для нашей системы;
- Благодаря микросервисам можно достигнуть более высокой производительности;
- Разделение ответственности между сервисами.
  
В первую очередь должны быть выделены Микросервисы для сбора и обработки данных с датчиков.
Для обработки данных с датчиков предполагается использовать CQRS. Данные могут обрабатываться и храниться в одном кластере, но кластер перегружен и далее данные этого трекера будет обрабатывать новый кластер. Тогда для исторических данных (редко используемых) имеет смысл использовать общее хранилище (Query), а для текущих данных локальное хранилище (Command).
Из-за трудности прогноза нагрузки на систему (число пользователей, пиковые часы) сервис имеет смысл вывести в облако.
















